class pyg_text():
    
    def __init__(self,Size,Color,TXTFont,Win=None,Color_over=(0,100,200),Color_press=(0,100,100)):
        
        self.Win = Win #παραθυρο κειμενου
        self.Size = Size #μεγευος γραμματοσειρας
        self.Color = Color
        self.TXTFont = TXTFont
        self.Color_over = Color_over #χρωμα
        self.Color_press = Color_press #χρωμα οταν το κειμενο πατιεται
        if Win!=None:
        	self.Win = Win
       #συνάρτηση για το κέντραρισμα κειμένου σε μια συγκεκριμένη θέση στο παράθυρο
    def screen_text_centerpos(self,text, x_pos, y_pos, size=None, color=None, txtfont=None, win=None):
        import pygame
        import sys
        #χρησιμοποίηση προκαθορισμένων τιμών αν δεν δοθούν νέες
        if win==None:
            win=self.Win
        if size==None:
            size=self.Size
        if color==None:
            color=self.Color
        if txtfont==None:
            txtfont=self.TXTFont
        #δημιουργία αντικειμένου γραμματοσειράς και απεικόνιση του κειμένου
        text_font = pygame.font.SysFont(txtfont, size) 
        rendered_text = text_font.render(str(text), True, color)
        textRect = rendered_text.get_rect()
        textRect.center = (x_pos, y_pos)
        win.blit(rendered_text, textRect) # Τοποθέτηση του κειμένου στο παράθυρο
    
    
    def screen_text_initpos(self,text, x_pos, y_pos, size=None, color=None, txtfont=None, win=None):
        import pygame
        import sys
        # If no window is specified, use the default window set during initialization
        if win==None:
            win=self.Win
        # Use default size if none is specified
        if size==None:
            size=self.Size
        # Use default color if none is specifie
        if color==None:
            color=self.Color
        # Use default font if none is specified
        if txtfont==None:
            txtfont=self.TXTFont
            
        # Create a font object from the system's fonts
        text_font = pygame.font.SysFont(txtfont, size)
        # Render the text as a surface object with anti-aliasing and the specified color
        rendered_text = text_font.render(str(text), True, color)
        # Get the rectangle bounding box for the rendered text
        textRect = rendered_text.get_rect()
        # Set the position of the text rectangle
        textRect.x = x_pos
        textRect.y = y_pos
        # Draw the text surface onto the window at the specified rectangle position
        win.blit(rendered_text, textRect)


    def screen_button_centerpos(self,text, x_pos, y_pos, over_effect=False, size=None, color=None, 
         color_press=None, txtfont=None, win=None):
        import pygame
        import sys
        # Use default window if none provided
        if win==None:
            win=self.Win
        # Use default size if none provided
        if size==None:
            size=self.Size
        # Use default color if none provided
        if color==None:
            color=self.Color
        # Use default color for press if none provided
        if color_press==None:
            color_press=self.Color_press
        # Use default font if none provided
        if txtfont==None:
            txtfont=self.TXTFont
        text_font = pygame.font.SysFont(txtfont, size) 
        rendered_text = text_font.render(str(text), True, (224,224,224))
        textRect = rendered_text.get_rect()
        textlist=list(textRect[2:4])
        # Center of the text for positioning
        x_center = x_pos
        y_center = y_pos
        # Calculate initial and limit positions for interactive behavior
        total_x=int(textlist[0])
        total_y=int(textlist[1])
        x_init=int(x_center-total_x/2)
        y_init=int(y_center-total_y/2)
        x_limit=int(x_center+total_x/2)
        y_limit=int(y_center+total_y/2)
        n_actions = 0
         # Draw the text at the center position
        self.screen_text_centerpos(text,x_center,y_center, size=size, color = color, txtfont=txtfont, win=win)
        # Check if mouse is over the text and handle interactions
        if x_init<pygame.mouse.get_pos()[0]<x_limit and y_init<pygame.mouse.get_pos()[1]<y_limit:
            n_actions = 1
            self.screen_text_centerpos(text,x_center,y_center, size=size, txtfont=txtfont, win=win)
            if pygame.mouse.get_pressed()[0]:
                n_actions = 2
                self.screen_text_centerpos(text,x_center,y_center, size=size, color = color_press, txtfont=txtfont, win=win)
                pygame.display.update((x_init,y_init),(total_x,total_y))
        if over_effect:
            return n_actions
        # το ποντίκι βρίσκεται πάνω από το κουμπί και έχει γίνει κλικ σε αυτό
        elif n_actions == 2:
            return True # Return True if button was pressed


    def screen_button_initpos(self,text, x_pos, y_pos, over_effect=False, size=None, color=None, 
         color_press=None, txtfont=None, win=None):
        import pygame
        import sys
        if win==None:
            win=self.Win
        if size==None:
            size=self.Size
        if color==None:
            color=self.Color
        if color_press==None:
            color_press=self.Color_press
        if txtfont==None:
            txtfont=self.TXTFont
        text_font = pygame.font.SysFont(txtfont, size) 
        rendered_text = text_font.render(str(text), True, (0,0,0))
        textRect = rendered_text.get_rect()
        textlist=list(textRect[2:4])
        x_init = x_pos
        y_init = y_pos
        total_x=int(textlist[0])
        total_y=int(textlist[1])
        x_center=int(x_init+total_x/2)
        y_center=int(y_init+total_y/2)
        x_limit=int(x_init+total_x)
        y_limit=int(y_init+total_y)
        n_actions = 0
        self.screen_text_initpos(text,x_init,y_init, size=size, color = color, txtfont=txtfont, win=win)
        if x_init<pygame.mouse.get_pos()[0]<x_limit and y_init<pygame.mouse.get_pos()[1]<y_limit:
            n_actions = 1
            self.screen_text_initpos(text,x_init,y_init, size=size, txtfont=txtfont, win=win)
            if pygame.mouse.get_pressed()[0]:
                n_actions = 2
                self.screen_text_initpos(text,x_init,y_init, size=size, color = color_press, txtfont=txtfont, win=win)
                pygame.display.update((x_init,y_init),(total_x,total_y))
        if over_effect:
            return n_actions
        elif n_actions == 2:
            return True
        pygame.quit()
        

        
     
        
